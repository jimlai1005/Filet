"use strict";(self["webpackChunkfilet"]=self["webpackChunkfilet"]||[]).push([[471],{5471:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-login"},[s("div",{staticClass:"account-container"},[s("div",{staticClass:"account-header"},[s("div",{staticClass:"company"},[s("i",[s("icon-polygon")],1),s("span",[t._v("Filet")])]),s("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),s("div",{staticClass:"account-card"},[s("div",{staticClass:"account-greeting"},[t._v("Welcome back ~")]),s("b-form-group",{attrs:{"label-for":"email",label:"Email"}},[s("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@example.com",state:t.loginState},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("b-form-group",{attrs:{"label-for":"password",label:"Password"}},[s("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Type your password",state:t.loginState},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("router-link",{attrs:{to:"forgot-password"}},[t._v("Forgot Password?")])],1),s("b-form-checkbox",{attrs:{name:"checkbox-1",value:!0,"unchecked-value":!1},model:{value:t.keepLogIn,callback:function(e){t.keepLogIn=e},expression:"keepLogIn"}},[t._v(" Keep me logged in ")]),s("button",{attrs:{type:"button",disabled:t.isLoginDisabled},on:{click:t.handleLogin}},[t._v(" Login ")]),s("div",{staticClass:"note"},[s("span",[t._v("Donâ€™t have an account?")]),s("router-link",{attrs:{to:"register"}},[t._v("Create a free account")])],1)],1),s("div",{staticClass:"account-footer"},[s("router-link",{attrs:{to:"privacy"}},[t._v("Privacy Policy")])],1)])])},a=[],i=s(4665),n=s(641),l={name:"AppLogin",components:{IconPolygon:n.Z},data(){return{email:null,password:null,keepLogIn:!0,loginState:null,isLoading:!1}},computed:{...(0,i.rn)(["token"]),...(0,i.Se)(["isLogin"]),isLoginDisabled(){return!this.email||!this.password||this.isLoading}},async created(){this.isLogin&&(await this.logout({token:this.token}),this.resetUser(),this.$cookies.remove("token"))},methods:{...(0,i.nv)(["login","getUserInfo","logout"]),...(0,i.OI)(["setToken","setUserInfo","showAlert","hideAlert","resetUser"]),async handleLogin(){this.loginState=null,this.isLoading=!0;try{const t=await this.login({email:this.email,password:this.password}),e=t.data.token;this.setToken(e),this.keepLogIn?this.$cookies.set("token",e):this.$cookies.remove("token");const s=await this.getUserInfo({token:e});this.setUserInfo(s.data),this.$router.replace("/"),this.showAlert({variant:"success",text:"Login successfully."}),setTimeout((()=>{this.hideAlert()}),3e3)}catch(t){this.loginState=!1,this.showAlert({text:t?.response?.data?.message}),setTimeout((()=>{this.hideAlert()}),3e3)}finally{this.isLoading=!1}}}},r=l,c=s(1001),d=(0,c.Z)(r,o,a,!1,null,"d0a7cc3c",null),u=d.exports}}]);
//# sourceMappingURL=471.6c599e23.js.map