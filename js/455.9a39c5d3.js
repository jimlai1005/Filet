"use strict";(self["webpackChunkfilet"]=self["webpackChunkfilet"]||[]).push([[455],{455:function(e,s,a){a.r(s),a.d(s,{default:function(){return w}});var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"app-profile"},[a("div",{staticClass:"account-info"},[a("div",{staticClass:"setting-title"},[e._v("Account Info.")]),a("div",{staticClass:"input-container"},[a("b-form-group",{attrs:{"label-for":"first-name",label:"First name"}},[a("b-form-input",{attrs:{id:"first-name"},model:{value:e.newFirstName,callback:function(s){e.newFirstName=s},expression:"newFirstName"}})],1),a("b-form-group",{attrs:{"label-for":"last-name",label:"Last name"}},[a("b-form-input",{attrs:{id:"last-name"},model:{value:e.newLastName,callback:function(s){e.newLastName=s},expression:"newLastName"}})],1),a("b-form-group",{attrs:{"label-for":"email",label:"Email"}},[a("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@example.com"},model:{value:e.newEmail,callback:function(s){e.newEmail=s},expression:"newEmail"}})],1),a("b-form-group",{attrs:{"label-for":"phone-number",label:"Phone number (Optional)"}},[a("b-form-input",{attrs:{id:"phone-number",type:"tel",placeholder:"+1 123456789"},model:{value:e.newMobile,callback:function(s){e.newMobile=s},expression:"newMobile"}})],1),a("div",{staticClass:"button-container"},[a("button",{attrs:{disabled:e.isUpdateUserInfoDisabled},on:{click:e.handleUpdateUserInfoClick}},[e._v(" Update ")])])],1)]),a("div",{staticClass:"change-password"},[a("div",{staticClass:"setting-title"},[e._v("Change Password")]),a("div",{staticClass:"input-container"},[a("b-form-group",{attrs:{"label-for":"old-password",label:"Old password"}},[a("b-form-input",{attrs:{id:"old-password",type:"password",placeholder:"Your answer"},model:{value:e.oldPassword,callback:function(s){e.oldPassword=s},expression:"oldPassword"}})],1),a("b-form-group",{attrs:{"label-for":"new-password",label:"New password"}},[a("b-form-input",{attrs:{id:"new-password",type:"password",placeholder:"Your answer"},model:{value:e.newPassword,callback:function(s){e.newPassword=s},expression:"newPassword"}})],1),a("b-form-group",{attrs:{"label-for":"confirm-new-password",label:"Confirm new password",description:"* At least 8 characters with 1 upper case, 1 lower case, and 1 number."}},[a("b-form-input",{attrs:{id:"confirm-new-password",type:"password",placeholder:"Your answer"},model:{value:e.confirmNewPassword,callback:function(s){e.confirmNewPassword=s},expression:"confirmNewPassword"}})],1),a("div",{staticClass:"button-container"},[a("button",{attrs:{disabled:e.isChangePasswordDisabled},on:{click:e.handleChangePasswordClick}},[e._v(" Update ")])])],1)])])},i=[],n=a(4665),o={name:"AppProfile",data(){return{oldPassword:null,newPassword:null,confirmNewPassword:null,newFirstName:null,newLastName:null,newEmail:null,newMobile:null,isLoading:!1}},computed:{...(0,n.rn)(["userInfo","token"]),...(0,n.Se)(["userName"]),isUpdateUserInfoDisabled(){return this.newFirstName===this.userInfo.firstName&&this.newLastName===this.userInfo.lastName&&this.newEmail===this.userInfo.email&&this.newMobile===this.userInfo.mobile||this.isLoading},isChangePasswordDisabled(){return!this.oldPassword||!this.newPassword||!this.confirmNewPassword||this.isLoading}},watch:{"userInfo.firstName":{handler(e){this.newFirstName=e},immediate:!0},"userInfo.lastName":{handler(e){this.newLastName=e},immediate:!0},"userInfo.email":{handler(e){this.newEmail=e},immediate:!0},"userInfo.mobile":{handler(e){this.newMobile=e},immediate:!0}},async created(){if(!this.token)return;const e=await this.getUserInfo({token:this.token});this.setUserInfo(e.data)},methods:{...(0,n.nv)(["updateUserInfo","changePassword","getUserInfo"]),...(0,n.OI)(["setUserInfo","showAlert","hideAlert"]),async handleUpdateUserInfoClick(){this.isLoading=!0;try{await this.updateUserInfo({token:this.token,email:this.newEmail,mobile:this.newMobile,firstName:this.newFirstName,lastName:this.newLastName}),this.showAlert({text:"Update successfully.",variant:"success"});const e=await this.getUserInfo({token:this.token});this.setUserInfo(e.data)}catch(e){this.showAlert({text:e?.response?.data?.message})}finally{setTimeout((()=>{this.hideAlert()}),3e3),this.isLoading=!1}},async handleChangePasswordClick(){if(this.newPassword!==this.confirmNewPassword)return this.showAlert({text:"Passwords are different. Please re-type your password."}),void setTimeout((()=>{this.hideAlert()}),3e3);this.isLoading=!0;try{await this.changePassword({token:this.token,oldPassword:this.oldPassword,newPassword:this.newPassword}),this.oldPassword=null,this.newPassword=null,this.confirmNewPassword=null,this.showAlert({text:"Update successfully.",variant:"success"}),this.$router.push("login")}catch(e){this.showAlert({text:e?.response?.data?.message})}finally{this.isLoading=!1,setTimeout((()=>{this.hideAlert()}),3e3)}}}},r=o,l=a(1001),d=(0,l.Z)(r,t,i,!1,null,"348860b8",null),w=d.exports}}]);
//# sourceMappingURL=455.9a39c5d3.js.map