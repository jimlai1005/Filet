"use strict";(self["webpackChunkfilet"]=self["webpackChunkfilet"]||[]).push([[276],{6276:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-login"},[n("div",{staticClass:"account-container"},[n("div",{staticClass:"account-header"},[n("div",{staticClass:"company"},[n("i",[n("icon-polygon")],1),n("span",[e._v("Filet")])]),n("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),n("div",{staticClass:"account-card"},[n("div",{staticClass:"account-greeting"},[e._v("Welcome back ~")]),n("b-form-group",{attrs:{"label-for":"email",label:"Email"}},[n("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@example.com",state:e.loginState},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("b-form-group",{attrs:{"label-for":"password",label:"Password"}},[n("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Type your password",state:e.loginState},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("router-link",{attrs:{to:"forgot-password"}},[e._v("Forgot Password?")])],1),n("b-form-checkbox",{attrs:{name:"checkbox-1",value:!0,"unchecked-value":!1},model:{value:e.keepLogIn,callback:function(t){e.keepLogIn=t},expression:"keepLogIn"}},[e._v(" Keep me logged in ")]),n("button",{attrs:{type:"button",disabled:e.isLoginDisabled},on:{click:e.handleLogin}},[e._v(" Login ")]),n("div",{staticClass:"note"},[n("span",[e._v("Donâ€™t have an account?")]),n("router-link",{attrs:{to:"register"}},[e._v("Create a free account")])],1)],1),n("div",{staticClass:"account-footer"},[n("router-link",{attrs:{to:"privacy"}},[e._v("Privacy Policy")])],1)])])},a=[],s=n(6198),r=n(4367),i=(n(4916),n(5306),n(8975),n(4665)),l=n(641),c={name:"AppLogin",components:{IconPolygon:l.Z},data:function(){return{email:null,password:null,keepLogIn:!0,loginState:null,isLoading:!1}},computed:(0,r.Z)((0,r.Z)((0,r.Z)({},(0,i.rn)(["token"])),(0,i.Se)(["isLogin"])),{},{isLoginDisabled:function(){return!this.email||!this.password||this.isLoading}}),created:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLogin){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.logout({token:e.token});case 4:e.resetUser(),e.$cookies.remove("token");case 6:case"end":return t.stop()}}),t)})))()},methods:(0,r.Z)((0,r.Z)((0,r.Z)({},(0,i.nv)(["login","getUserInfo","logout"])),(0,i.OI)(["setToken","setUserInfo","showAlert","hideAlert","resetUser"])),{},{handleLogin:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){var n,o,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loginState=null,e.isLoading=!0,t.prev=2,t.next=5,e.login({email:e.email,password:e.password});case 5:return n=t.sent,o=n.data.token,e.setToken(o),e.keepLogIn?e.$cookies.set("token",o):e.$cookies.remove("token"),t.next=11,e.getUserInfo({token:o});case 11:a=t.sent,e.setUserInfo(a.data),e.$router.replace("/"),e.showAlert({variant:"success",text:"Login successfully."}),setTimeout((function(){e.hideAlert()}),3e3),t.next=23;break;case 18:t.prev=18,t.t0=t["catch"](2),e.loginState=!1,e.showAlert({text:null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message}),setTimeout((function(){e.hideAlert()}),3e3);case 23:return t.prev=23,e.isLoading=!1,t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[2,18,23,26]])})))()}})},u=c,d=n(1001),p=(0,d.Z)(u,o,a,!1,null,"35c7c3df",null),g=p.exports}}]);
//# sourceMappingURL=276-legacy.1459257f.js.map