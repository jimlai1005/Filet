"use strict";(self["webpackChunkfilet"]=self["webpackChunkfilet"]||[]).push([[455],{455:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"app-profile"},[t("div",{staticClass:"account-info"},[t("div",{staticClass:"setting-title"},[e._v("Account Info.")]),t("div",{staticClass:"input-container"},[t("b-form-group",{attrs:{"label-for":"first-name",label:"First name"}},[t("b-form-input",{attrs:{id:"first-name"},model:{value:e.newFirstName,callback:function(s){e.newFirstName=s},expression:"newFirstName"}})],1),t("b-form-group",{attrs:{"label-for":"last-name",label:"Last name"}},[t("b-form-input",{attrs:{id:"last-name"},model:{value:e.newLastName,callback:function(s){e.newLastName=s},expression:"newLastName"}})],1),t("b-form-group",{attrs:{"label-for":"email",label:"Email"}},[t("b-form-input",{attrs:{id:"email",type:"email",placeholder:"example@example.com"},model:{value:e.newEmail,callback:function(s){e.newEmail=s},expression:"newEmail"}})],1),t("b-form-group",{attrs:{"label-for":"phone-number",label:"Phone number (Optional)"}},[t("b-form-input",{attrs:{id:"phone-number",type:"tel",placeholder:"+1 123456789"},model:{value:e.newMobile,callback:function(s){e.newMobile=s},expression:"newMobile"}})],1),t("div",{staticClass:"button-container"},[t("button",{attrs:{disabled:e.isUpdateUserInfoDisabled},on:{click:e.handleUpdateUserInfoClick}},[e._v(" Update ")])])],1)]),t("div",{staticClass:"change-password"},[t("div",{staticClass:"setting-title"},[e._v("Change Password")]),t("div",{staticClass:"input-container"},[t("b-form-group",{attrs:{"label-for":"old-password",label:"Old password"}},[t("b-form-input",{attrs:{id:"old-password",type:"password",placeholder:"Your answer"},model:{value:e.oldPassword,callback:function(s){e.oldPassword=s},expression:"oldPassword"}})],1),t("b-form-group",{attrs:{"label-for":"new-password",label:"New password"}},[t("b-form-input",{attrs:{id:"new-password",type:"password",placeholder:"Your answer"},model:{value:e.newPassword,callback:function(s){e.newPassword=s},expression:"newPassword"}})],1),t("b-form-group",{attrs:{"label-for":"confirm-new-password",label:"Confirm new password",description:"* At least 8 characters with 1 upper case, 1 lower case, and 1 number."}},[t("b-form-input",{attrs:{id:"confirm-new-password",type:"password",placeholder:"Your answer"},model:{value:e.confirmNewPassword,callback:function(s){e.confirmNewPassword=s},expression:"confirmNewPassword"}})],1),t("div",{staticClass:"button-container"},[t("button",{attrs:{disabled:e.isChangePasswordDisabled},on:{click:e.handleChangePasswordClick}},[e._v(" Update ")])])],1)])])},n=[],r=t(6198),o=t(4367),i=(t(8975),t(4665)),l={name:"AppProfile",data:function(){return{oldPassword:null,newPassword:null,confirmNewPassword:null,newFirstName:null,newLastName:null,newEmail:null,newMobile:null,isLoading:!1}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,i.rn)(["userInfo","token"])),(0,i.Se)(["userName"])),{},{isUpdateUserInfoDisabled:function(){return this.newFirstName===this.userInfo.firstName&&this.newLastName===this.userInfo.lastName&&this.newEmail===this.userInfo.email&&this.newMobile===this.userInfo.mobile||this.isLoading},isChangePasswordDisabled:function(){return!this.oldPassword||!this.newPassword||!this.confirmNewPassword||this.isLoading}}),watch:{"userInfo.firstName":{handler:function(e){this.newFirstName=e},immediate:!0},"userInfo.lastName":{handler:function(e){this.newLastName=e},immediate:!0},"userInfo.email":{handler:function(e){this.newEmail=e},immediate:!0},"userInfo.mobile":{handler:function(e){this.newMobile=e},immediate:!0}},created:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function s(){var t;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.token){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,e.getUserInfo({token:e.token});case 4:t=s.sent,e.setUserInfo(t.data);case 6:case"end":return s.stop()}}),s)})))()},methods:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,i.nv)(["updateUserInfo","changePassword","getUserInfo"])),(0,i.OI)(["setUserInfo","showAlert","hideAlert"])),{},{handleUpdateUserInfoClick:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function s(){var t,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoading=!0,s.prev=1,s.next=4,e.updateUserInfo({token:e.token,email:e.newEmail,mobile:e.newMobile,firstName:e.newFirstName,lastName:e.newLastName});case 4:return e.showAlert({text:"Update successfully.",variant:"success"}),s.next=7,e.getUserInfo({token:e.token});case 7:t=s.sent,e.setUserInfo(t.data),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](1),e.showAlert({text:null===s.t0||void 0===s.t0||null===(a=s.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message});case 14:return s.prev=14,setTimeout((function(){e.hideAlert()}),3e3),e.isLoading=!1,s.finish(14);case 18:case"end":return s.stop()}}),s,null,[[1,11,14,18]])})))()},handleChangePasswordClick:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function s(){var t,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.newPassword===e.confirmNewPassword){s.next=4;break}return e.showAlert({text:"Passwords are different. Please re-type your password."}),setTimeout((function(){e.hideAlert()}),3e3),s.abrupt("return");case 4:return e.isLoading=!0,s.prev=5,s.next=8,e.changePassword({token:e.token,oldPassword:e.oldPassword,newPassword:e.newPassword});case 8:e.oldPassword=null,e.newPassword=null,e.confirmNewPassword=null,e.showAlert({text:"Update successfully.",variant:"success"}),e.$router.push("login"),s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](5),e.showAlert({text:null===s.t0||void 0===s.t0||null===(t=s.t0.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message});case 18:return s.prev=18,e.isLoading=!1,setTimeout((function(){e.hideAlert()}),3e3),s.finish(18);case 22:case"end":return s.stop()}}),s,null,[[5,15,18,22]])})))()}})},d=l,u=t(1001),c=(0,u.Z)(d,a,n,!1,null,"348860b8",null),w=c.exports}}]);
//# sourceMappingURL=455-legacy.cc1c004c.js.map